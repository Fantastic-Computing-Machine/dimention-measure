{% extends 'base.html' %}

{% block head %}
<title>Records</title>
{% endblock %}


{% block header %}
<a type="button" href="{{ url_for('index') }}" class="btn btn-primary">Home</a>
{% endblock %}


{% block body %}

<div class="container pt-2 px-3 pb-4">
    <h2 class="py-2 text-light">{{projectName|capitalize}}</h2>
    <div>
        <form action="" method="POST" name="add_skills" id="add_skills">
            <div class="table-responsive">
                <table class="table table-hover table-sm">
                    <tr class="table text-light row-cols-auto">
                        <th> Name Tag</th>
                        <th>Length (in meters)</th>
                        <th>Width (in meters)</th>
                        <th>Area- Sqm</th>
                        <th>Area- Sqft</th>
                        <th>Rate</th>
                        <th></th>
                    </tr>
                    {% set ns = namespace(count=0) %}
                    {% for item in project_json %}
                    <tr class="table text-light">

                        <td>{{item["name"]|capitalize}}</td>
                        <td>{{item["length"]}}</td>
                        <td>{{item["width"]}}</td>
                        <td>{{item["sqm"]}}</td>
                        <td>{{item["sqft"]}}</td>
                        <td>{{item["rate"]}}</td>
                        <td><a href='{{url_for("delete",projectName = projectName, rowNumber=project_json[ns.count]["dimId"])}}'><img
                                    src="https://img.icons8.com/cotton/25/000000/delete-sign--v2.png" /></a></td>

                    </tr>
                    {% set ns.count = ns.count + 1%}
                    {% endfor %}

                    <tr>
                        <th><input class="form-control form-control-sm" id="name" name="name" type="text"
                                placeholder="Tag it" aria-label=".form-control-sm">
                        </th>
                        <th><input class="form-control form-control-sm" id="length" name="length" type="number"
                                placeholder="Length (meter)" aria-label=".form-control-sm">
                        </th>
                        <th><input class="form-control form-control-sm" id="width" name="width" type="number"
                                placeholder="Width (meter)" aria-label=".form-control-sm">
                        </th>
                        <th><input class="form-control form-control-sm" id="sqm" name="sqm" type="number"
                                placeholder="Sqm" aria-label=".form-control-sm" readonly>
                        </th>
                        <th><input class="form-control form-control-sm" id="sqft" name="sqft" type="number"
                                placeholder="Sqft" aria-label=".form-control-sm" readonly>
                        </th>
                        <th><input class="form-control form-control-sm" id="rate" name="rate" type="number"
                                placeholder="Rate" aria-label=".form-control-sm">
                        </th>
                        <td></td>
                    </tr>

                </table>
            </div>

            <div class="my-2">
                <button type="submit" class="btn btn-outline-primary"><img
                        src="https://img.icons8.com/color/20/000000/save--v2.png" /> Add Item</button>
            </div>

            <div class="px-5">
                <div class="record_total_card mt-5">
                    <p class="card-body" style="text-align:center">
                        Total<b class="fs-5"> {{sum_sqm}} Sqm</b><br>
                        Total<b class="fs-5"> {{sum_sqft}} Sqft</b>
                    </p>

                </div>
            </div>

        </form>
    </div>
</div>
<br><br><br><br><br>
<div>
    <div class=" container text-light">
        SESSION: {{session}}
        <br>
        PROJECT NAME: {{projectName}}
        <br>
        METRICS: {{project_json}}
    </div>

</div>

{% endblock %}